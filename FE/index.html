<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bookstore - Home</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="../FE/img/1.jpg" alt="Bookstore logo" width="50" height="50" class="rounded-circle me-2">
          Bookstore
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link active" href="../FE/index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="html/product.html">Products</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="html/cart.html">Cart</a>
            </li>
          </ul>
          <div class="d-flex align-items-center">
            <a class="nav-link me-3 cart-icon" href="html/cart.html">
              <i class="fa fa-shopping-cart" style="font-size:20px"></i>
              <span id="nav-cart-total" class="badge">0</span>
            </a>
            <span id="user-welcome" class="me-3 d-none">Welcome, <span id="username"></span>!</span>
        <a class="nav-link me-3" id="nav-item-login" href="html/login.html">Login</a>
        <a class="nav-link me-3 d-none" id="nav-item-logout" href="html/login.html" onclick="logout()">Logout</a>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <main class="container">
    <section class="hero-section text-center mb-5">
      <h1 class="display-4 fw-bold text-primary">Welcome to the Bookstore!</h1>
      <p class="lead text-muted">Discover your next favorite read</p>
      <a href="html/product.html" class="btn btn-primary btn-lg mt-3">Explore Books</a>
    </section>

    <section>
      <h2 class="mb-4 text-center fw-bold">Featured Books</h2>
      <div class="row justify-content-center" id="product-list">
        <!-- Product items will be dynamically injected here -->
      </div>
    </section>
  </main>

  <footer class="bg-light py-4 mt-5">
    <div class="container text-center">
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../FE/js/data.js"></script>
  <script src="../FE/js/login.js"></script>
  <script src="../FE/js/product.js"></script>
</body>
</html>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Check login status
    function checkLoginStatus() {
      const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
      const loginNav = document.getElementById('nav-item-login');
      const logoutNav = document.getElementById('nav-item-logout');
      const userWelcome = document.getElementById('user-welcome');
      const usernameDisplay = document.getElementById('username');
  
      if (loggedInUser) {
        // Show "Welcome, Username" and Logout link
        userWelcome.classList.remove('d-none');
        usernameDisplay.textContent = loggedInUser.email;
        loginNav.classList.add('d-none');
        logoutNav.classList.remove('d-none');
      } else {
        // Show Login link and hide others
        userWelcome.classList.add('d-none');
        loginNav.classList.remove('d-none');
        logoutNav.classList.add('d-none');
      }
    }
  
    // Logout functionality
    window.logout = function () {
      localStorage.removeItem('loggedInUser');
      alert('Logged out successfully.');
      window.location.href = 'login.html';
    };
  
    // Run checkLoginStatus on page load
    checkLoginStatus();
  });
  
</script>